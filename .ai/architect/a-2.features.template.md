# Funcionalidad {{ feature.id | uppercase }} - {{ feature.name | titlecase }}

## Descripción

<!--
Copia del documento PRD
-->

{{ fromPRD | one paragraph }}

## Objetivo / Historia de usuario

<!--
Define claramente QUIÉN necesita la característica, QUÉ debe hacer y POR QUÉ
-->

- **Como:** {{ userType }}
- **Quiero:** {{ action }}
- **Para que:** {{ benefit }}

<!-- Ejemplo de resultado
```md
- **Como:** usuario autenticado
- **Quiero:** añadir un proyecto a mi portafolio
- **Para que:** pueda mostrar mi trabajo
```
-->

## Criterios de aceptación / Escenarios

<!--
Escribe al menos un escenario para la ruta ideal. Escribe hasta tres más si corresponde.
Incluye escenarios de éxito, casos edge y manejo de errores.
-->

```gherkin
Escenario: {{ happyScenarioName }}
  Dado {{ initialContext }}
  Cuando {{ actionPerformed }}
  Entonces {{ expectedOutcome }}

{{ for scenario in additionScenarios }}
Escenario: {{ scenario.name }}
  Dado {{ scenario.given }}
  Cuando {{ scenario.when }}
  Entonces {{ scenario.then }}
{{ end scenario }}
```

## Requisitos Funcionales

<!--
Lista los requisitos funcionales específicos de esta feature.
Cada requisito debe ser medible y testable.
-->

{{ for requirement in functionalRequirements }}
- {{ requirement.description }}
{{ end requirement }}

## Requisitos No Funcionales

<!--
Especifica requisitos no funcionales como rendimiento, seguridad, escalabilidad, etc.
-->

{{ if hasNonFunctionalRequirements }}
{{ for requirement in nonFunctionalRequirements }}
- **{{ requirement.category }}**: {{ requirement.description }}
{{ end requirement }}
{{ end hasNonFunctionalRequirements }}

## Dependencias

<!--
Identifica dependencias con otras features o componentes del sistema.
-->

{{ if hasDependencies }}
{{ for dependency in dependencies }}
- **{{ dependency.feature }}**: {{ dependency.description }}
{{ end dependency }}
{{ end hasDependencies }}

## Casos Edge y Manejo de Errores

<!--
Documenta casos límite y escenarios de error que deben manejarse.
-->

{{ if hasEdgeCases }}
{{ for edgeCase in edgeCases }}
- **{{ edgeCase.scenario }}**: {{ edgeCase.description }}
  - Comportamiento esperado: {{ edgeCase.expectedBehavior }}
{{ end edgeCase }}
{{ end hasEdgeCases }}

<!-- Ejemplo de resultado:
```gherkin
Escenario: Añadir un proyecto a mi portafolio
  Dado que soy un usuario autenticado
  Cuando agrego un proyecto a mi portafolio
  Entonces puedo ver el proyecto en mi portafolio
```
-->

## Capas de Presentación

<!--
Documenta qué capas de presentación requiere esta funcionalidad.
Muchos proyectos web modernos implementan múltiples capas de presentación:
- API REST: Endpoints JSON para integración con frontends externos
- Interfaz Web: Templates HTML para uso directo en navegador
- Aplicación Móvil: Interfaces nativas o híbridas
- Desktop: Aplicaciones de escritorio

Identifica y documenta todas las capas de presentación necesarias para esta funcionalidad.
-->

### API REST

{{ if hasAPIREST }}

Esta funcionalidad requiere endpoints de API REST para integración con frontends externos.

**Endpoints Requeridos**:
{{ for endpoint in apiEndpoints }}
- `{{ endpoint.method }} {{ endpoint.path }}` - {{ endpoint.description }}
  {{ if endpoint.requiresAuth }}
  - Requiere autenticación: {{ endpoint.authType }}
  {{ end endpoint.requiresAuth }}
  {{ if endpoint.queryParams }}
  - Query Parameters:
    {{ for param in endpoint.queryParams }}
    - `{{ param.name }}`: {{ param.description }}
    {{ end param }}
  {{ end endpoint.queryParams }}
  {{ if endpoint.requestBody }}
  - Request Body: {{ endpoint.requestBody }}
  {{ end endpoint.requestBody }}
{{ end endpoint }}

{{ else }}

**No aplica**: Esta funcionalidad no requiere endpoints de API REST.

{{ end hasAPIREST }}

### Interfaz de Usuario (UI/UX)

<!--
Define la interfaz de usuario y experiencia para esta funcionalidad.
Esta sección es obligatoria si la funcionalidad tiene una interfaz de usuario web.
Si la funcionalidad es solo API o backend sin interfaz, indica "N/A" o "No aplica".
-->

{{ if hasUserInterface }}

### Descripción General

{{ uiUxDescription | un párrafo }}

### Componentes de Interfaz

<!--
Lista los componentes, páginas, formularios, vistas o elementos de interfaz necesarios.
Sé específico sobre qué elementos visuales se requieren.
-->

{{ for component in uiComponents }}
- **{{ component.name }}**: {{ component.description }}
  {{ if component.fields }}
  - Campos/Elements:
    {{ for field in component.fields }}
    - {{ field.name }}: {{ field.description }}
    {{ end field }}
  {{ end component.fields }}
  {{ if component.actions }}
  - Acciones:
    {{ for action in component.actions }}
    - {{ action.name }}: {{ action.description }}
    {{ end action }}
  {{ end component.actions }}
{{ end component }}

### Flujo de Usuario

<!--
Describe el flujo de interacción del usuario con la interfaz.
Incluye los pasos que el usuario seguirá para completar la tarea.
-->

{{ userFlow | markdown }}

### Estados y Validaciones

<!--
Describe los diferentes estados de la interfaz (cargando, éxito, error, vacío, etc.)
y las validaciones que se mostrarán al usuario.
-->

{{ if hasUIStates }}
{{ for state in uiStates }}
- **{{ state.name }}**: {{ state.description }}
  - Comportamiento: {{ state.behavior }}
{{ end state }}
{{ end hasUIStates }}

### Responsive y Accesibilidad

<!--
Especifica requisitos de diseño responsive (móvil, tablet, escritorio)
y requisitos de accesibilidad si aplican.
-->

{{ if hasResponsiveRequirements }}
- **Responsive**: {{ responsiveRequirements | descripción de requisitos responsive }}
{{ end hasResponsiveRequirements }}

{{ if hasAccessibilityRequirements }}
- **Accesibilidad**: {{ accessibilityRequirements | descripción de requisitos de accesibilidad }}
{{ end hasAccessibilityRequirements }}

{{ else }}

**No aplica**: Esta funcionalidad no requiere interfaz de usuario. {{ if hasAPIREST }}Los frontends externos consumirán los endpoints de API REST.{{ else }}Esta funcionalidad es solo backend sin capa de presentación.{{ end hasAPIREST }}

{{ end hasUserInterface }}

<!-- Ejemplo de resultado:
```markdown
### Descripción General
Un formulario para añadir proyectos al portafolio con validación en tiempo real.

### Componentes de Interfaz
- **Formulario de Proyecto**: Formulario para crear nuevos proyectos
  - Campos/Elements:
    - Nombre del proyecto: Campo de texto requerido
    - Descripción del proyecto: Área de texto opcional
    - URL del proyecto: Campo de URL con validación
    - Imagen del proyecto: Selector de archivo opcional
  - Acciones:
    - Enviar: Botón para crear el proyecto
    - Cancelar: Botón para cancelar y volver

### Flujo de Usuario
1. Usuario accede a la página de "Añadir Proyecto"
2. Usuario completa el formulario
3. Sistema valida los datos en tiempo real
4. Usuario hace clic en "Enviar"
5. Sistema muestra mensaje de éxito y redirige al listado

### Estados y Validaciones
- **Cargando**: Muestra spinner durante el envío
- **Error de validación**: Muestra mensajes de error junto a cada campo
- **Éxito**: Muestra mensaje de confirmación y redirige
- **Vacío**: Muestra placeholder en campos opcionales
```
-->
